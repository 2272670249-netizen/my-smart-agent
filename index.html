<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯æ™ºå¯¼å¸ˆ - è¯„ä»·æ™ºèƒ½ä½“</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            width: 100%;
            max-width: 500px;
            text-align: center;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .debug-info {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: left;
            font-size: 14px;
            border-left: 4px solid #3498db;
        }
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ æ™ºèƒ½ä½“è°ƒè¯•é¡µé¢</h1>
        <p>æ­£åœ¨æ£€æµ‹é…ç½®é—®é¢˜...</p>
        
        <div class="debug-info">
            <h3>è°ƒè¯•ä¿¡æ¯ï¼š</h3>
            <div id="debugOutput">æ­£åœ¨åˆå§‹åŒ–...</div>
        </div>
        
        <button class="btn" onclick="testConfiguration()">æµ‹è¯•é…ç½®</button>
        <button class="btn" onclick="openCozeDirectly()">ç›´æ¥è®¿é—®Coze</button>
    </div>

    <script src="https://lf-cdn.coze.cn/obj/unpkg/flow-platform/chat-app-sdk/1.2.0-beta.19/libs/cn/index.js"></script>
    
    <script>
        function updateDebugInfo(message) {
            document.getElementById('debugOutput').innerHTML += message + '<br>';
        }

        async function testConfiguration() {
            updateDebugInfo('=== å¼€å§‹é…ç½®æµ‹è¯• ===');
            
            // æµ‹è¯•1: SDKåŠ è½½
            if (typeof CozeWebSDK === 'undefined') {
                updateDebugInfo('âŒ SDKåŠ è½½å¤±è´¥');
                return;
            }
            updateDebugInfo('âœ… SDKåŠ è½½æˆåŠŸ');
            
            // æµ‹è¯•2: å°è¯•åˆå§‹åŒ–
            try {
                const token = 'pat_iqDSBzSYUIOn9Crgna838VghoALGsD34HzAICrsZ3X5mL4dJ8ofsFxmWCYmqaqxX'; // è¯·æ›¿æ¢ä¸ºæ‚¨çš„çœŸå®token
                
                const client = new CozeWebSDK.WebChatClient({
                    config: {
                        bot_id: '7578063729297145899',
                    },
                    auth: {
                        type: 'token',
                        token: token
                    },
                    userInfo: {
                        id: 'test_user_' + Date.now(),
                        nickname: 'æµ‹è¯•ç”¨æˆ·'
                    },
                    ui: {
                        asstBtn: { isNeed: true }
                    }
                });
                
                updateDebugInfo('âœ… æ™ºèƒ½ä½“åˆå§‹åŒ–æˆåŠŸ');
                updateDebugInfo('ğŸ’¡ å¦‚æœçœ‹ä¸åˆ°æ‚¬æµ®å›¾æ ‡ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„å…·ä½“é”™è¯¯');
                
            } catch (error) {
                updateDebugInfo('âŒ åˆå§‹åŒ–å¤±è´¥: ' + error.message);
                updateDebugInfo('ğŸ” å¯èƒ½çš„åŸå› ï¼š');
                updateDebugInfo('- Tokenæƒé™ä¸è¶³');
                updateDebugInfo('- æ™ºèƒ½ä½“æœªæ­£ç¡®å‘å¸ƒ');
                updateDebugInfo('- å·¥ä½œç©ºé—´æƒé™é™åˆ¶');
            }
        }

        function openCozeDirectly() {
            // ç›´æ¥æ‰“å¼€æ™ºèƒ½ä½“é¡µé¢æµ‹è¯•
            window.open('https://www.coze.cn/embed/7558025828223778835', '_blank');
        }

        // é¡µé¢åŠ è½½åè‡ªåŠ¨æµ‹è¯•
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(testConfiguration, 1000);
        });
    </script>
</body>
</html>
